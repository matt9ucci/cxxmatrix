{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "build: Wasm",
			"type": "shell",
			"group": {
				"isDefault": true,
				"kind": "build",
			},
			"command": "make clean.wasm && make all.wasm CXXFLAGS='-std=c++17 -Wall -Wextra -g --embed-file glyph.inl -gsource-map --source-map-base http://localhost:8000/ -s FORCE_FILESYSTEM=1'",
			"options": {
				"env": {
					"CC": "EMCC_DEBUG=1 ${env:EMSDK}/upstream/emscripten/emcc",
					"CXX": "EMCC_DEBUG=1 ${env:EMSDK}/upstream/emscripten/emcc",
				},
			},
		},
		{
			"label": "build: clang debug",
			"type": "shell",
			"group": "build",
			// Add debug flag
			// See: https://clang.llvm.org/docs/ClangCommandLineReference.html#debug-information-generation
			"command": "make CXXFLAGS='-std=c++17 -Wall -Wextra -g3'",
			"options": {
				"env": {
					"CC": "${env:EMSDK}/upstream/bin/clang",
					"CXX": "${env:EMSDK}/upstream/bin/clang++",
				},
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": false
			}
		},
		{
			"label": "build: original",
			"type": "shell",
			"group": "build",
			"command": "make clean && make",
		},
		{
			"label": "build: clean",
			"type": "shell",
			"group": "build",
			"command": "make clean",
		},
		{
			"label": "build: clean Wasm",
			"type": "shell",
			"group": "build",
			"command": "make clean.wasm",
		},
	],
}